{% load static %}

<link rel="stylesheet" type="text/css" href="{% static '/chartjs/dist/Chart.min.css' %}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js">

</script>
<h2 style="font-family:calibri; color:#3d3d5c">CSV statistics loaded in Ajax!</h2>
<!-- <div class="stats" style="display: flex">
      <ul id="timedata" style="font-size: 20px; color:#3d3d5c; font-family:calibri">
        <li style="list-style:none"><h3 style="color:#3d3d5c; font-family:calibri">Time (s)</h3></li>
        {% for stat in latest_stats %}
          <li>{{ stat.time }}</li>
        {% endfor %}
      </ul>
      <ul id="hrdata" style="font-size: 20px; color:#3d3d5c; font-family:calibri">
        <li style="list-style:none"><h3 style="color:#3d3d5c; font-family:calibri">Heart Rate</h3></li>
        {% for stat in latest_stats %}
          <li>{{ stat.hr }}</li>
        {% endfor %}
      </ul>

      <ul id="rrdata" style="font-size: 20px; color:#3d3d5c; font-family:calibri">
        <li style="list-style:none"><h3 style="color:#3d3d5c; font-family:calibri">Respiration Rate</h3></li>
        {% for stat in latest_stats %}
          <li>{{ stat.rr }}</li>
        {% endfor %}
      </ul>
  </div> -->

  <div style="width:75%">
    <div class="chartjs-size-monitor">
      <div class="chartjs-size-monitor-expand"></div>
      <div class="chartjs-size-monitor-shrink"></div>
    </div>
    <canvas class="chartjs-render-monitor" style="display:block;" id="myChart" width="400" height="400"></canvas>
  </div>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.0.min.js"></script>
  <script src="{% static '/chartjs/dist/Chart.js' %}"></script>
  <script type="text/javascript">
    Chart.platform.disableCSSInjection = true;
    $.get("{% url 'polls:line_chart_json' %}", function(data) {
      var ctx = $("#myChart").get(0).getContext('2d');
      new Chart (ctx, {
        type: 'line', data: data
      });
    });
</script>
